<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Card</title>
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/all.min.css">
	<link href="https://fonts.googleapis.com/css2?family=Lora&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/lightslider.css">

</head>


<body>
	<div class="container">
		
		<a href="" class="btn btn-outline-info float-right mt-5" data-toggle="modal" data-target="#notif">Notifications</a>

		<div class="modal fade" id="notif">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content ">
					<div class="modal-body py-0">
						<!-- notification -->
						<div class="card notif my-3">
							<img src="dondra.jpg" alt="">
							<div>
								<h1 class="ml-2">Product name</h1>
								<h4 class="ml-2"><a href="#">Mr. Omuk</a> Wants to buy <a href="">Mr. Tomuk's</a> Product</h4>
							</div>
						</div>
						<!-- notification -->

						<!-- notification -->
						<div class="card notif my-3">
							<img src="dondra.jpg" alt="">
							<div>
								<h1 class="ml-2">Product name</h1>
								<h4 class="ml-2"><a href="#">Mr. Omuk</a> Wants to buy <a href="">Mr. Tomuk's</a> Product</h4>
							</div>
						</div>
						<!-- notification -->

						<!-- notification -->
						<div class="card notif">
							<img src="dondra.jpg" alt="">
							<div>
								<h1 class="ml-2">Product name</h1>
								<h4 class="ml-2"><a href="#">Mr. Omuk</a> Wants to buy <a href="">Mr. Tomuk's</a> Product</h4>
							</div>
						</div>
						<!-- notification -->

						<!-- notification -->
						<div class="card notif my-3">
							<img src="dondra.jpg" alt="">
							<div>
								<h1 class="ml-2">Product name</h1>
								<h4 class="ml-2"><a href="#">Mr. Omuk</a> Wants to buy <a href="">Mr. Tomuk's</a> Product</h4>
							</div>
						</div>
						<!-- notification -->

						<!-- notification -->
						<div class="card notif my-3">
							<img src="dondra.jpg" alt="">
							<div>
								<h1 class="ml-2">Product name</h1>
								<h4 class="ml-2"><a href="#">Mr. Omuk</a> Wants to buy <a href="">Mr. Tomuk's</a> Product</h4>
							</div>
						</div>
						<!-- notification -->

						<!-- notification -->
						<div class="card notif my-3">
							<img src="dondra.jpg" alt="">
							<div>
								<h1 class="ml-2">Product name</h1>
								<h4 class="ml-2"><a href="#">Mr. Omuk</a> Wants to buy <a href="">Mr. Tomuk's</a> Product</h4>
							</div>
						</div>
						<!-- notification -->	
					</div>	
				</div>
			</div>
		</div>
		
		<div class="row">
			<input type="text" id="iden">
			<input type="file" id="photo">
			<button class="btn btn-success" onclick="uploadImg()">UPLOAD</button>
			<br><br>
			<input type="text" id="uid">
			<img src="" alt="" id="img">
			<button onclick="retrieveIMG()">RETRIEVE img</button>
		</div>


		<div class="row">

			<div class="modal fade" id="ledp">
				<div class="modal-dialog modal-dialog-centered">
					<div class="modal-content">

						<div class="modal-header">
							<h5 class="modal-title">Posted on: 24, September 2020</h5>
						<!-- for cross icon -->
						<button class="close" data-dismiss="modal">&times;</button>   
						</div>

						<div class="modal-body">
							<div id="herocarousel" class="carousel slide" data-ride="carousel">
							  <ol class="carousel-indicators">
							    <li data-target="#herocarousel" data-slide-to="0" class="active"></li>
							    <li data-target="#herocarousel" data-slide-to="1"></li>
							    <li data-target="#herocarousel" data-slide-to="2"></li>
							    <li data-target="#herocarousel" data-slide-to="3"></li>
							  </ol>
							  <div class="carousel-inner">
							    <div class="carousel-item active">
							      <img src="download.jpg"style="object-fit:cover; object-position: center; width: 100%; max-width: 100%; max-height: 300px;">
							    </div>
							    <div class="carousel-item">
							      <img src="dondra.jpg" style="object-fit:cover; object-position: center; width: 100%; max-width: 100%; max-height: 300px;">
							    </div>
							    <div class="carousel-item">
							      <img src="products.jpg" style="object-fit:cover; object-position: center; width: 100%; max-width: 100%; max-height: 300px;">
							    </div>
							    <div class="carousel-item">
							      <img src="dondra.jpg" style="object-fit:cover; object-position: center; width: 100%; max-width: 100%; max-height: 300px;">
							    </div>
							  </div>
							  <a class="carousel-control-prev" href="#herocarousel" role="button" data-slide="prev">
							    <span class="carousel-control-prev-icon"></span>
							 
							  </a>
							  <a class="carousel-control-next" href="#herocarousel" role="button" data-slide="next">
							    <span class="carousel-control-next-icon"></span>
							  </a>
							</div>

							<div class="mt-3">
								<h6 class="float-right">Type: Bed</h6>
								<h3>Asked price: <span class="text-success">৳200</span></h3>
								<p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Ea repudiandae culpa perspiciatis sit eius molestias praesentium adipisci repellendus assumenda voluptatibus! Velit porro, reiciendis. Harum laboriosam excepturi ipsa obcaecati hic facilis.</p>
							</div>
						</div>

						<div class="modal-footer">
							<button class="btn bg-danger" data-dismiss="modal">Back to Store</button>
							<button class="btn bg-success" data-dismiss="modal">Buy Now</button>
						</div>
					</div>
				</div>
			</div>
		</div>	

		<!-- Product Slider -->
		<section class="slider">
		<ul id="autoWidth" class="cs-hidden mx-2">
		  <li class="item-a">
		  	<div class="" style="width: 300px;">
				<div class="card m-3 ">
					<img src="download.jpg" alt="" style="width: 100%;">
					<p class="p-2">Nullamlacus dui ipsum conseque loborttis non euisque morbi penas dapibulum orna.</p>
					<a href="" class="card-link mb-3 p-2 text-success" data-toggle="modal" data-target="#ledp">Read More »</a>
				</div>
			</div>
		  </li>
		  <li class="item-b">
		  	<div class="" style="width: 300px;">
				<div class="card m-3 ">
					<img src="download.jpg" alt="" style="width: 100%;">
					<p class="p-2">Nullamlacus dui ipsum conseque loborttis non euisque morbi penas dapibulum orna.</p>
					<a href="" class="card-link mb-3 p-2 text-success" data-toggle="modal" data-target="#ledp">Read More »</a>
				</div>
			</div>
		  </li>
		  <li class="item-c">
		  	<div class="" style="width: 300px;">
				<div class="card m-3 ">
					<img src="download.jpg" alt="" style="width: 100%;">
					<p class="p-2">Nullamlacus dui ipsum conseque loborttis non euisque morbi penas dapibulum orna.</p>
					<a href="" class="card-link mb-3 p-2 text-success" data-toggle="modal" data-target="#ledp">Read More »</a>
				</div>
			</div>
		  </li>
		  <li class="item-d">
		  	<div class="" style="width: 300px;">
				<div class="card m-3 ">
					<img src="download.jpg" alt="" style="width: 100%;">
					<p class="p-2">Nullamlacus dui ipsum conseque loborttis non euisque morbi penas dapibulum orna.</p>
					<a href="" class="card-link mb-3 p-2 text-success" data-toggle="modal" data-target="#ledp">Read More »</a>
				</div>
			</div>
		  </li>
		  <li class="item-e">
		  	<div class="" style="width: 300px;">
				<div class="card m-3 ">
					<img src="download.jpg" alt="" style="width: 100%;">
					<p class="p-2">Nullamlacus dui ipsum conseque loborttis non euisque morbi penas dapibulum orna.</p>
					<a href="" class="card-link mb-3 p-2 text-success" data-toggle="modal" data-target="#ledp">Read More »</a>
				</div>
			</div>
		  </li>
		</ul>
		</section>
		<!-- Product Slider End-->

		<script type="text/javascript" src="slick/slick.min.js"></script>
		<script src="js/jquery-3.5.1.slim.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/lightslider.js"></script>
		<script src="js/script.js"></script>
	</div>
	
</body>


<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-storage.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-database.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyATTxgudFf45YWAd0xBIc5P3wDBHcKODew",
    authDomain: "demoimg-23b1f.firebaseapp.com",
    databaseURL: "https://demoimg-23b1f.firebaseio.com",
    projectId: "demoimg-23b1f",
    storageBucket: "demoimg-23b1f.appspot.com",
    messagingSenderId: "671617105734",
    appId: "1:671617105734:web:1752ed9be2b5e7e80b2f47",
    measurementId: "G-GW5LLJ088S"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();

  function uploadImg(){
	  const ref = firebase.storage().ref()

	  const file = document.querySelector("#photo").files[0]

	  const name = document.querySelector("#iden").value 

	  const metadata = {
		  contentType:file.type
	  }

	  const task = ref.child(name).put(file, metadata)

	  task
	  .then(snapshot => snapshot.ref.getDownloadURL())
	  .then(url => {
			  console.log(url)

				alert("Image Uploaded")

			saveURL(name, url)
		  })

	
		
		// firebase.database().ref(name).set({
		// 	Name: name,
		// 	Link: url
		// })

  }

function saveURL(userId, imageUrl) {
firebase.database().ref('users/' + userId).set({
profile_picture : imageUrl
});

}

function retrieveIMG(){
	  uid = document.getElementById('uid').value;
	  firebase.database().ref('users/' + uid).on('value', function(snapshot){
		  document.getElementById('img').src = snapshot.val().profile_picture;
	  });
  }
</script>

</html>